<HTML>
	<HEAD>
		<meta charset='utf-8'>
		<TITLE>This event occurs every time the application is loaded or reloaded.</TITLE>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<link rel='stylesheet' type='text/css' href="../../macros.css">
	</HEAD>

			<body style="margin: 10px">
			<p>Second event to be executed, before the execution of the main select, it is triggered whenever the application is loaded. For example, after using the advanced filter.</p>
<p>In it, all application variables and libraries are available for use.</p>
<p>The manipulation of connections with <code>sc_connection_edit</code> and <code>sc_connection_new</code> macros, manipulation of the main select with <code>sc_select_order</code> and <code>sc_select_where(add)</code> macros and inclusion of libraries already incorporated into Scriptcase such as Jquery with <code>sc_include_lib</code> macro are some of the examples of using the event.</p>
<p> </p>
<hr />
<p>In the example below, access to the sales report will be limited to the user who performed them.</p>
<p>Access is limited if the user is not the admin.</p>
<p><strong>Sample Code</strong></p>
<p><code><span style="font-weight: 400;">if ( [usr_login] != 'admin' ) {</span></code></p>
<p><code></code><code><span style="font-weight: 400;">    if ( empty({sc_where_atual})){</span></code></p>
<p><code><span style="font-weight: 400;">        sc_select_where(add) = "WHERE employeeid > [usr_login]";</span></code></p>
<p><code><span style="font-weight: 400;">    } else {</span></code><br /><code></code></p>
<p><code><span style="font-weight: 400;">        sc_select_where(add) = "AND employeeid > [usr_login]";</span></code><br /><code><span style="font-weight: 400;">    }<br />}</span></code></p>
			<div id="id_div_app_cross" style="display: none"></div>
			</body>
			
</HTML>