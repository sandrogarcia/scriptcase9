<HTML>
	<HEAD>
		<meta charset='utf-8'>
		<TITLE>This macro is used to communicate with a web service.</TITLE>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<link rel='stylesheet' type='text/css' href="../../macros.css">
	</HEAD>

			<body style="margin: 0px">
			<table cellpadding=0 cellspacing=0 class="macros_desc_main_table">
			<tr><td class="macros_tit">sc_webservice("Method", "URL", "Port", "Send Method", "Parameters Array", "Setting's Array", "Timeout", "Return")<br></td></tr>
			<tr><td style="border: none;">
				<table class="macros_desc_table">
					<tr>
						<td style="border: none;">
							<div class="div-macros-desc"><a title="Watch a tutorial" href="https://youtu.be/z2VvxIi4-e8" target="_blank" rel="noopener"><img src="https://ci6.googleusercontent.com/proxy/-fXm5485iHiC7R8hH9S3FfnMEql5lx_-flBW7nYiZ4gtxt5n-LAmZXnwgLGWYqWguIgfjSaTyul6g03mevmf7Z_Gyiz0u93b7Blj1gXI29TinGEvqkaopBvarpVos9bodZC3g3O2sVgnMtvX88Qsusy-G1o=s0-d-e1-ft#https://drive.google.com/a/netmake.com.br/uc?id=1IdBRdwp0LuvZDhSRGnYNX92fNrrWzymr&export=download" alt="" width="24" height="24" />Watch a tutorial</a></div>
<p class="corpo1">This macro is used to communicate with a web service.</p>
<table id="definition" border="0">
<tbody>
<tr>
<td align="left" valign="top" width="15%"><strong class="corpo1">Parameter<br /></strong></td>
<td align="left" valign="top"><strong class="corpo1">Description</strong></td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Method</td>
<td class="corpo1" align="left" valign="top">Informs what method will be used to access the web service. Ex: <em>file_get_contents</em> or <em>curl</em>.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">URL</td>
<td class="corpo1" align="left" valign="top">URL used to access the web service.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Port</td>
<td class="corpo1" align="left" valign="top">Port used to access the web service.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Send Method</td>
<td class="corpo1" align="left" valign="top">Defines the request method of the web service. It can be <em>GET</em> ou <em>POST</em>.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Parameters Array</td>
<td class="corpo1" align="left" valign="top">Parameter's array used to access the web service, varying according to the accessed service.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Settings's Array(optional)</td>
<td class="corpo1" align="left" valign="top">Parameter's array for configuration of the access method used.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Timeout(optional)</td>
<td class="corpo1" align="left" valign="top">Service's access timeout.</td>
</tr>
<tr>
<td class="corpo1" align="left" valign="top">Return(optional)</td>
<td class="corpo1" align="left" valign="top">Web service's return method. When it is set as "True", the return from the web service comes as an array, if it is set as "False" it will return as the original web service format. Default: True</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p class="corpo1">&nbsp;</p>
<p class="corpo1">$parms = array(<br />'METHOD' => 'GetBalance',<br />'RETURNALLCURRENCIES' => 1,<br />'VERSION' => urlencode(51.0),<br />'USER' => urlencode({paypal_api_login}),<br />'PWD' => urlencode({paypal_api_password}),<br />'SIGNATURE' => urlencode({paypal_api_key})<br />);<br />$parms = http_build_query($parms);</p>
<p class="corpo1"><strong>Ex1 - Using the macro <em>file_get_contents</em>: </strong> <br />sc_webservice('file_get_contents', $webservice_url, $_SERVER["SERVER_PORT"], "POST", $parms, array(), 30);</p>
<p class="corpo1">&nbsp;</p>
<p class="corpo1"><strong>Ex2 - Using the macro with CURL:</strong> <br />$response = sc_webservice("curl", {paypal_type}, 80, "POST", $parms, array(CURLOPT_RETURNTRANSFER => true, CURLOPT_SSL_VERIFYPEER=>false), 30);</p>
						</td>
					</tr>
				</table>
				<div id="id_div_app_cross" style="display: none">
					<br>
					<p style="font-weight: bold; margin-left: 10px;">Macro Scope</p>
					<table cellpadding=0 cellspacing=0 class="macros_desc_scope_table">
						<tr>
											<td style='text-align: left; font-weight: bold'>
				Blank application
			</td>
			<td style='text-align: left; font-weight: bold'>
				calendar application
			</td>
			<td style='text-align: left; font-weight: bold'>
				chart application
			</td>
			<td style='text-align: left; font-weight: bold'>
				Grid application
			</td>
			<td style='text-align: left; font-weight: bold'>
				Search application
			</td>
			<td style='text-align: left; font-weight: bold'>
				Form application
			</td>
			<td style='text-align: left; font-weight: bold'>
				Control Form
			</td>
			<td style='text-align: left; font-weight: bold'>
				Menu application
			</td>
			<td style='text-align: left; font-weight: bold'>
				Tree menu
			</td>
			<td style='text-align: left; font-weight: bold'>
				ReportPDF application
			</td>

						</tr>
						<tr>
								
		<td width='120px' style='background-color: #efeded'>allMacros<br>onExecute
		</td>

		<td width='120px' style='background-color: #f7f4f4'>ajaxFieldonBlur<br>ajaxFieldonChange<br>ajaxFieldonClick<br>ajaxFieldonFocus<br>allMacros<br>onAfterDelete<br>onAfterInsert<br>onAfterUpdate<br>onApplicationInit<br>onBeforeDelete<br>onBeforeInsert<br>onBeforeUpdate<br>onInit<br>onLoadAll<br>onRefresh<br>onValidate<br>onValidateFailure<br>onValidateSuccess
		</td>

		<td width='120px' style='background-color: #efeded'>allMacros<br>onApplicationInit<br>onFooter<br>onHeader<br>onInit
		</td>

		<td width='120px' style='background-color: #f7f4f4'>onInit
		</td>

		<td width='120px' style='background-color: #efeded'>allMacros<br>onApplicationInit<br>onFilterInit<br>onFilterRefresh<br>onFilterSave<br>onFilterValidate
		</td>

		<td width='120px' style='background-color: #f7f4f4'>ajaxFieldonBlur<br>ajaxFieldonChange<br>ajaxFieldonClick<br>ajaxFieldonFocus<br>allMacros<br>onAfterDelete<br>onAfterDeleteAll<br>onAfterInsert<br>onAfterInsertAll<br>onAfterUpdate<br>onAfterUpdateAll<br>onApplicationInit<br>onBeforeDelete<br>onBeforeDeleteAll<br>onBeforeInsert<br>onBeforeInsertAll<br>onBeforeUpdate<br>onBeforeUpdateAll<br>onClick<br>onInit<br>onLoadAll<br>onNavigate<br>onRecord<br>onRefresh<br>onValidate<br>onValidateFailure<br>onValidateSuccess
		</td>

		<td width='120px' style='background-color: #efeded'>ajaxFieldonBlur<br>ajaxFieldonChange<br>ajaxFieldonClick<br>ajaxFieldonFocus<br>allMacros<br>onApplicationInit<br>onClick<br>onInit<br>onLoadAll<br>onRefresh<br>onValidate<br>onValidateFailure<br>onValidateSuccess
		</td>

		<td width='120px' style='background-color: #f7f4f4'>allMacros<br>onApplicationInit<br>onExecute<br>onLoad
		</td>

		<td width='120px' style='background-color: #efeded'>allMacros<br>onExecute<br>onLoad
		</td>

		<td width='120px' style='background-color: #f7f4f4'>allMacros
		</td>

						</tr>
					</table>
				</div>				
			</td></tr>
			</table>
			</body>
			
</HTML>