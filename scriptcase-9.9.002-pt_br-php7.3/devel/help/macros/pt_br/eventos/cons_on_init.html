<HTML>
	<HEAD>
		<meta charset='utf-8'>
		<TITLE>Este evento ocorre sempre que a aplicação é carregada, ou recarregada.</TITLE>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<link rel='stylesheet' type='text/css' href="../../macros.css">
	</HEAD>

			<body style="margin: 10px">
			<p><span style="font-weight: 400;">Segundo evento a ser executado, <strong>antes da execução do select principal</strong>, ele é acionado sempre que a aplicação é carregada. </span><span style="font-weight: 400;">Por exemplo, após utilização do filtro avançado.<br /></span></p>
<p><span style="font-weight: 400;">Nele, todas as variáveis e bibliotecas da aplicação estão disponíveis para utilização.</span></p>
<p><span style="font-weight: 400;">A manipulação das conexões com as macros <code>sc_connection_edit</code> e <code>sc_connection_new</code>, manipulação do select principal com as macros <code>sc_select_order</code> e <code>sc_select_where(add)</code> e inclusão de bibliotecas já incorporádas ao Scriptcase como a <strong>Jquery</strong> com a macro <code>sc_include_lib</code> são alguns dos exemplos de utilização do evento.</span></p>
<p> </p>
<hr />
<p><span style="font-weight: 400;">No exemplo abaixo, o acesso ao relatório de vendas será limitado ao usuário que as realizou.</span></p>
<p><span style="font-weight: 400;">O acesso está limitado caso o usuário não seja o admin.<br /></span></p>
<p><span style="font-weight: 400;"><strong>Exemplo do Código</strong><br /></span></p>
<p><code><span style="font-weight: 400;">if ( [usr_login] != 'admin' ) {</span></code></p>
<p><code></code><code><span style="font-weight: 400;">    if ( empty({sc_where_atual})){</span></code></p>
<p><code><span style="font-weight: 400;">        sc_select_where(add) = "WHERE employeeid > [usr_login]";</span></code></p>
<p><code><span style="font-weight: 400;">    } else {</span></code><br /><code></code></p>
<p><code><span style="font-weight: 400;">        sc_select_where(add) = "AND employeeid > [usr_login]";</span></code><br /><code><span style="font-weight: 400;">    }<br />}</span></code></p>
			<div id="id_div_app_cross" style="display: none"></div>
			</body>
			
</HTML>